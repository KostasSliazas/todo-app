new Vue({el:"#app",data:{lang:"lt",title:"Todo app",todo:"",timeAdd:"",timeFin:"",todoArray:"undefined"!=typeof Storage&&JSON.parse(window.localStorage.getItem("todo-app"))||[]},methods:{addTodo(){this.todo.trim().length>0&&(this.todoArray.push({todo:this.todo.replace(/,/g,".").trim(),done:!1,timeAdd:this.setTime()}),this.todo="",this.addToLocalStorage())},removeTodo(index,elem){this.todoArray.splice(index,1),this.addToLocalStorage(index,elem)},allDone(){this.todoArray.forEach(todo=>{todo.done=!0,todo.timeFin=this.setTime()}),"undefined"!=typeof Storage&&window.localStorage.setItem("todo-app",JSON.stringify(this.todoArray))},allDFalse(){this.todoArray.forEach(todo=>{todo.done=!1,todo.timeFin=""}),"undefined"!=typeof Storage&&window.localStorage.setItem("todo-app",JSON.stringify(this.todoArray))},counter(){return this.todoArray.filter(todo=>!1===todo.done).length},addToLocalStorage(index,elem){this.todoArray[index]&&(this.todoArray[index].done=elem.target.checked,this.todoArray[index].timeFin=this.todoArray[index].done?this.setTime():""),"undefined"!=typeof Storage&&window.localStorage.setItem("todo-app",JSON.stringify(this.todoArray))},setTime(){const options={hour:"2-digit",minute:"2-digit",hour12:!1};return(new Date).toLocaleDateString(this.lang,options)},counterNumbers(){const numArray=[];return this.todoArray.forEach(e=>{void 0===e.todo||e.done||isNaN(parseFloat(e.todo.match(/[+-]?((?=\.?\d)\d*\.?\d*)/g)))||numArray.push(parseFloat(e.todo.match(/[+-]?((?=\.?\d)\d*\.?\d*)/g)))}),numArray.reduce((a,b)=>{const n1=a.toString().split(".")[1],n2=b.toString().split(".")[1],len1=n1&&n1.length||0,len2=n2&&n2.length||0;return parseFloat((a+b).toFixed(len1+len2))},0)}}});