const app=new Vue({el:"#app",data:{title:"Todo app",todo:"",timeAdd:"",timeFin:"",todoArray:"undefined"!=typeof Storage&&JSON.parse(window.localStorage.getItem("todo-app"))||[]},methods:{addTodo(){this.todo.length>0&&(this.todoArray.push({title:this.todo,done:!1,timeAdd:this.setTime()}),this.todo="",this.addToLocalStorage())},removeTodo(index,elem){this.todoArray.splice(index,1),this.addToLocalStorage(index,elem)},allDone(){this.todoArray.forEach(todo=>{todo.done=!0,todo.timeFin=this.setTime()}),"undefined"!=typeof Storage&&window.localStorage.setItem("todo-app",JSON.stringify(this.todoArray))},allDFalse(){this.todoArray.forEach(todo=>{todo.done=!1,todo.timeFin=""}),"undefined"!=typeof Storage&&window.localStorage.setItem("todo-app",JSON.stringify(this.todoArray))},counter(){return this.todoArray.filter(todo=>!1===todo.done).length},addToLocalStorage(index,elem){this.todoArray[index]&&(this.todoArray[index].done=elem.target.checked,this.todoArray[index].timeFin=this.todoArray[index].done?this.setTime():""),"undefined"!=typeof Storage&&window.localStorage.setItem("todo-app",JSON.stringify(this.todoArray))},setTime:()=>(new Date).toLocaleString("en-US",{hour12:!1})}});